<div dir="rtl">

# احراز هویت
برای دسترسی به API، ابتدا باید داخل وبسایت لاگین کنید و بعد می توانید از داخل پنل کاربری(داشبورد) با کلیک کردن بر روی گزینه  API وارد قسمت مربوطه شوید و توکن اعتبارسنجی(Authorization Token) خود را دریافت کنید.

توکن اعتبار سنجی دریافت شده را باید داخل هدر درخواست ها به شکل زیر قرار دهید

<div dri="ltr">

```
Authorization: Token <your authorization token>
```
</div>

#### لطفاً اطمینان حاصل کنید که توکن اعتبارسنجی شما معتبر است، در غیر این صورت ممکن است با خطاهای زیر روبرو شوید.

<div dir="ltr">

#### Error Code
| استتوس کد | توضیحات |
| ------------| -------------|
| 403         | توکن نامعتبر است
| 403         | اطلاعات احراز هویت ارائه نشده است

</div>

<br>






# اندپوینت ها
---

<details>
<summary><h2>محصولات</h2></summary>

<details>
<summary><h4>لیست محصولات</h4></summary>

#### درخواست
---
برای دریافت محصولات داخل سایت، یک درخواست GET را به آدرس زیر ارسال کنید:
<div dir="ltr">

    GET: /api/products/

</div>

> **نکته:** به صورت پیشفرض در هر صفحه حداقل 20 محصول نمایش داده می شود و حد اکثر 30 عدد، برای گرفتن محصولات بیشتر در هر صفحه و یا پجینیشن میتوانید از پارامتر های زیر استفاده کنید 

#### پارامتر ها
---
<div dir="ltr">

| پارامتر   |  نوع دیتا |      توضیحات      |
| ----------- | -------| ------------|
| page        | int    | شماره پیج
| page_size   |  int   | تعداد محصولات نمایش داده شده در هر پیج، ماکسیموم 20 عدد

</div>
<br>

#### پاسخ
---
برای این درخواست، پاسخی به شکل زیر ارسال می‌شود که شامل لیست محصولات است:

```json
{
  "count": 44,
  "next": "http://:........./api/products/?page=2",
  "previous": null,
  "results": [
    {
      "id": 1,
      "name": "100 لایک اپارات",
      "image": "like.jpg",
      "count": 100,
      "price": 12000,
      "price_pro": 6000,
      "discount": 0,
      "discription": "product-details",
    },
    {
      "id": 2,
      "name": "200 لایک اپارات",
      "image": "/media/products/2022/05/16/like.jpg",
      "count": 200,
      "price": 24000,
      "price_pro": 12000,
      "discount": 0,
      "discription": "product-details",
    }
  ]
}

```
</details>




<details>
<summary><h4>دریافت اطلاعات یک محصول</h4></summary>
<br>

#### درخواست
---
برای دریافت اطلاعات یک محصول، یک درخواست GET را به آدرس زیر ارسال کنید:
    
<div dir="ltr">

    GET: /api/products/?product={product_id}

</div>

#### پارامتر ها
---
<div dir="ltr">

| پارامتر   | نوع دیتا | توضیحات |
| ----------- | ------| ------------|
| product_id  | int   | ایدی محصول

</div>

#### پاسخ
---
برای این درخواست، پاسخی به شکل زیر ارسال می‌شود که شامل اطلاعات محصول است:

```json
[
     {
        "id":11,
        "name":"product 11",
        "image":"http://example.com",
        "discription":"product-details",
        "count":1000,
        "price":100000,
        "price_pro":50000,
        "discount":0,
        "category":[
            {
                "id":3,
                "title":"Category-8"
            }
        ]
    },
```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد       | توضیحات |
| ------------| -------------|
| 200         | موفقیت امیز، نمایش جزئیات محصول
| 400         | فقط میتوانید یک پارامتر را ارسال نمایید
| 404         | محصول یا دسته بندی خواسته شده یافت نشد

</div>
<br>
<br>
</details>




<details>
<summary><h4>لیست دست بندی ها</h4></summary>

#### درخواست
---
برای دریافت دسته بندی محصولات داخل سایت، یک درخواست GET را به آدرس زیر ارسال کنید:
<div dir="ltr">

    GET: /api/products/

</div>

> **نکته:** به صورت پیشفرض در هر صفحه حداقل 20 دسته بندی نمایش داده می شود و حد اکثر 30 عدد، برای گرفتن دسته بندی ها بیشتر در هر صفحه و یا پجینیشن میتوانید از پارامتر های زیر استفاده کنید 

#### پارامتر ها
---
<div dir="ltr">

| پارامتر   |  نوع دیتا |      توضیحات      |
| ----------- | --------| ------------|
| page        | int     | شماره پیج
| page_size   | int     | تعداد دسته بندی نمایش داده شده در هر پیج، ماکسیموم 20 عدد

</div>
<br>

#### پاسخ
---
برای این درخواست، پاسخی به شکل زیر ارسال می‌شود که شامل لیست محصولات است:

```json
{
    "count": 7,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 2,
            "title": "لایک اپارات"
        },
        {
            "id": 3,
            "title": "ویو اپارات"
        }
    ]
}
```
</details>




<details>
<summary><h4>دریافت محصولات یک دسته بندی</h4></summary>
<br>

#### درخواست
---
برای دریافت تمام محصولات مرتبط با هر دسته بندی میتوانید درخواست GET را به آدرس زیر ارسال کنید:

<div dir="ltr">

    GET: /api/products/?category={category_id}

</div>

### پارامتر ها
---
<div dir="ltr">

| پارامتر   | نوع دیتا | توضیحات |
| ----------- | ------| ------------|
| category_id | int   | ایدی دسته بندی

</div>

#### پاسخ
---
برای این درخواست، پاسخی به شکل زیر ارسال می‌شود که شامل محصولات مربوط به هر دسته بندی است:

```json
[
     {
        "id":11,
        "name":"product 11",
        "image":"http://example.com",
        "discription":"product-details",
        "count":1000,
        "price":100000,
        "price_pro":50000,
        "discount":0,
        "category":[
            {
                "id":3,
                "title":"Category-8"
            }
        ]
    },
    ,
    {"...":"..."}
```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد     |      توضیحات |
| ------------| -------------|
| 200         | موفقیت امیز، نمایش محصولات مربوط به یک دسته بندی
| 400         | فقط میتوانید یک پارامتر را ارسال نمایید
| 404         | محصول یا دسته بندی خواسته شده یافت نشد

</div>

</details>
<br>
<br>
</details>






<details>
<summary><h2>ثبت سفارش</h2></summary>

<details>
<summary><h4>ثبت سفارش لایک و ویو</h4></summary>
<br>

> **نکته:** دقت داشته باشید که حتما باید هدر `Content-Type: application/json` را برای درخواست های POST ست کرده باشید 


#### درخواست
---
برای ثبت سفارش لایک و ویو، میتوانید یک درخواست POST را به آدرس های زیر ارسال کنید:

<div dir="ltr">

    POST: /api/order/like/create/
    POST: /api/order/view/create/

</div>

### ریکوئست بادی
---
```jsonc
{
    "product": 10, // ایدی محصول
    "link": "https://www.aparat.com/v/hash" // آدرس ویدیو
}
```

### پاسخ
---
جزئیات سفارش ثبت شده برگشت داده خواهد شد.

```json
{
  "product": 7,
  "link": "aparat.com/v/YYYY",
  "user": "Test@gmail.com",
  "status": "در صف⊷",
  "tracking_id": "c15c700ec6c3",
  "created": "2023-04-30 20:58:52"
}

```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد |      توضیحات           |
| ------------| ------------------ |
| 200         | موفقیت آمیرز، نمایش جزئیات سفارش 
| 400         | پارامتر لینک یافت نشد
| 400         | لینک ارسال شده نامعبتر است
| 400         | تایپ ولیو پارامتر product نا معتبر است
| 400         | ایدی محصول ارسال شده مربوط به این دسته بندی نمی باشد
| 404         | محصول یافت نشد
| 403         | موجودی کافی نیست

</div>
</details>



<details>
<summary><h4>ثبت سفارش کامنت</h4></summary>
<br>

> **نکته:** دقت داشته باشید که حتما باید هدر `Content-Type: application/json` را برای درخواست های POST ست کرده باشید 


#### درخواست
---
برای ثبت سفارش لایک، میتوانید یک درخواست POST را به آدرس زیر ارسال کنید:

<div dir="ltr">

    POST: /api/order/comment/create/

</div>

### ریکوئست بادی
---
برای جدا کردن هر کامنت از n\ استفاده کنید

```jsonc
{
    "product": 10, // ایدی محصول
    "link": "https://www.aparat.com/v/hash", // آدرس ویدیو
    "comment": "test\ntest2\ntest3\ntest4", // کامنت ها
}
```

### پاسخ
---
جزئیات سفارش ثبت شده برگشت داده خواهد شد.

```json
{
  "product": 7,
  "link": "aparat.com/v/YYYY",
  "user": "Test@gmail.com",
  "status": "در صف⊷",
  "tracking_id": "c15c700ec6c3",
  "created": "2023-04-30 20:58:52",
  "comments": "test\ntest2\ntest3\ntest4"
}

```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد |      توضیحات           |
| ------------| ------------------ |
| 200         | موفقیت آمیرز، نمایش جزئیات سفارش
| 400         | پارامتر لینک یافت نشد
| 400         | لینک ارسال شده نامعبتر است
| 400         | تایپ ولیو پارامتر product نا معتبر است
| 400         | ایدی محصول ارسال شده مربوط به این دسته بندی نمی باشد
| 400         | پارامتر کامنت یافت نشد
| 404         | محصول یافت نشد
| 403         | موجودی کافی نیست

</div>
</details>




<details>
<summary><h4>ثبت سفارش واچ تایم</h4></summary>
<br>

> **نکته:** دقت داشته باشید که حتما باید هدر `Content-Type: application/json` را برای درخواست های POST ست کرده باشید 

> **نکته:** دقت داشته باشید که تایم ویدیو باید بیشتر از 2 دقیقه باشد


#### درخواست
---
برای ثبت سفارش واچ تایم، میتوانید یک درخواست POST را به آدرس زیر ارسال کنید:

<div dir="ltr">

    POST: /api/order/watch-time/create/

</div>

### ریکوئست بادی
---

```jsonc
{
    "product": 10, // ایدی محصول
    "link": "https://www.aparat.com/v/hash", // آدرس ویدیو
}
```

### پاسخ
---
جزئیات سفارش ثبت شده برگشت داده خواهد شد.

```json
{
  "product": 7,
  "link": "aparat.com/v/YYYY",
  "user": "Test@gmail.com",
  "status": "در صف⊷",
  "tracking_id": "c15c700ec6c3",
  "created": "2023-04-30 20:58:52",
}

```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد |      توضیحات           |
| ------------| ------------------ |
| 200         | موفقیت آمیرز، نمایش جزئیات سفارش
| 400         | پارامتر لینک یافت نشد
| 400         | لینک ارسال شده نامعبتر است
| 400         | تایپ ولیو پارامتر product نا معتبر است
| 400         | ایدی محصول ارسال شده مربوط به این دسته بندی نمی باشد
| 400         | تایم ویدیو کمتر از مقدار گفته شده میباشد
| 404         | محصول یافت نشد
| 403         | موجودی کافی نیست

</div>
</details>




<details>
<summary><h4>ثبت سفارش فالور عادی و فالور پرو</h4></summary>
<br>

> **نکته:** دقت داشته باشید که حتما باید هدر `Content-Type: application/json` را برای درخواست های POST ست کرده باشید 

#### درخواست
---
برای ثبت سفارش فالور عادی و فالور پرو، میتوانید یک درخواست POST را به آدرس های زیر ارسال کنید:

<div dir="ltr">

    POST: /api/order/follower/create/
    POST: /api/order/follower-pro/create/

</div>

### ریکوئست بادی
---

```jsonc
{
    "product": 10, // ایدی محصول
    "link": "https://www.aparat.com/UserName", // آدرس حساب کاربری
}
```

### پاسخ
---
جزئیات سفارش ثبت شده برگشت داده خواهد شد.

```json
{
  "product": 7,
  "link": "aparat.com/UserName",
  "user": "Test@gmail.com",
  "status": "در صف⊷",
  "tracking_id": "c15c700ec6c3",
  "created": "2023-04-30 20:58:52",
}

```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد |      توضیحات           |
| ------------| ------------------ |
| 200         | موفقیت آمیرز، نمایش جزئیات سفارش
| 400         | پارامتر لینک یافت نشد
| 400         | لینک ارسال شده نامعبتر است
| 400         | تایپ ولیو پارامتر product نا معتبر است
| 400         | ایدی محصول ارسال شده مربوط به این دسته بندی نمی باشد
| 404         | محصول یافت نشد
| 403         | موجودی کافی نیست

</div>
</details>







<details>
<summary><h4>ثبت سفارش تبلیغ</h4></summary>
<br>

> **نکته:** دقت داشته باشید که حتما باید هدر `Content-Type: application/json` را برای درخواست های POST ست کرده باشید 

#### درخواست
---
برای ثبت سفارش تبلیغات، میتوانید یک درخواست POST را به آدرس زیر ارسال کنید:

<div dir="ltr">

    POST: /api/order/ads/create/

</div>

### ریکوئست بادی
---

```jsonc
{
    "product": 10, // ایدی محصول
    "description": "Ads Description", // متن تبلیغات
}
```

### پاسخ
---
جزئیات سفارش ثبت شده برگشت داده خواهد شد.

```json
{
  "product": 7,
  "user": "Test@gmail.com",
  "status": "در صف⊷",
  "tracking_id": "c15c700ec6c3",
  "created": "2023-04-30 20:58:52",
  "description": "Ads Description"
}

```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد |      توضیحات           |
| ------------| ------------------ |
| 200         | موفقیت آمیرز، نمایش جزئیات سفارش 
| 400         | تایپ ولیو پارامتر product نا معتبر است
| 400         | ایدی محصول ارسال شده مربوط به این دسته بندی نمی باشد
| 400         | متن تبلیغ یافت نشد
| 404         | محصول یافت نشد
| 403         | موجودی کافی نیست

</div>
</details>
<br>
<br>
</details>






<details>
<summary><h2>پیگیری سفارش</h2></summary>
<br>

#### درخواست
---
برای پیگیری وضعیت یک سفارش میتوانید درخواست GET را به آدرس زیر ارسال کنید:

<div dir="ltr">

    GET: /api/order/tracking/?tracking_id={tracking_id}

</div>

#### پارامتر ها
---
<div dir="ltr">

| پارامتر   | نوع دیتا |      توضیحات      |
| ----------- | -------| ------------|
| tracking_id | int    | ایدی پیگیری سفارش

</div>
<br>

#### پاسخ
---

```json
{
  "Type": "view",
  "link": "aparat.com/v/.....",
  "status": "Done",
  "initialize_count": 100,
  "uniq_id": "624e15a6f29ea",
  "date": "2023-04-30 23:00:00"
}
```

#### استتوس کد ها
---
<div dir="ltr">

| استتوس کد       | توضیحات |
| ------------| -------------|
| 200         | موفقیت آمیز، نمایش جزئیات سفارش
| 400         | ایدی پیگیری سفارش یافت نشد
| 400         | پارامتر ارسالی نامبعتر است
| 500         | خطای داخلی سرور 

</div>
<br>
<br>
</details>
</div>